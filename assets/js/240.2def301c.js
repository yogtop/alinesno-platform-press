(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{454:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5),a("p",[s._v("安装依赖软件")]),s._v(" "),s._m(6),a("p",[s._v("解压包")]),s._v(" "),s._m(7),a("p",[s._v("初始化用户,添加 mysql 用户组和 mysql 用户")]),s._v(" "),s._m(8),a("p",[s._v("编译源码,其中参数说明")]),s._v(" "),s._m(9),s._m(10),s._v(" "),a("p",[s._v("编译安装")]),s._v(" "),s._m(11),s._v(" "),s._m(12),s._m(13),s._v(" "),a("p",[s._v("初始化数据库")]),s._v(" "),s._m(14),s._v(" "),s._m(15),a("p",[s._v("查看初始密码:")]),s._v(" "),s._m(16),a("p",[s._v("复制配置文件")]),s._v(" "),s._m(17),s._m(18),s._v(" "),s._m(19),a("p",[s._v("调整内容如下")]),s._v(" "),s._m(20),a("p",[s._v("配置启动服务")]),s._v(" "),s._m(21),a("p",[s._v("启动数据库")]),s._v(" "),s._m(22),a("p",[s._v("设置数据库密码,及远程登陆")]),s._v(" "),s._m(23),s._m(24),s._v(" "),s._m(25),a("p",[s._v("添加以下内容")]),s._v(" "),s._m(26),s._m(27),s._v(" "),s._m(28),s._v(" "),s._m(29),s._v(" "),s._m(30),s._v(" "),s._m(31),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.baidu.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitBook 官网"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/xyang81/article/details/51792144",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL5.7.13 源码编译安装与配置"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://dev.mysql.com/doc/refman/5.7/en/installing-source-distribution.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Installing MySQL Using a Standard Source Distribution"),a("OutboundLink")],1)])])])}),[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"mysql-单点教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-单点教程"}},[this._v("#")]),this._v(" MySQL 单点教程")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[this._v("#")]),this._v(" 安装")])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("安装过程使用 root 操作")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("上传软件至 Linux 服务器"),t("code",[this._v("/home/alinesno/soft/")]),this._v("目录")])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("此处用户可以使用 xftp 或者 xshell 等工具，书要简言")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("scp")]),this._v(" -r mysql-server-mysql-5.7.24.tar.gz root@192.168.1.110:/opt/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("scp")]),this._v(" -r boost_1_59_0.tar.gz root@192.168.1.110:/opt/\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" -y cmake , "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("make")]),this._v(" , gcc , gcc-c++ , bison , ncurses , ncurses-devel\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf boost_1_59_0.tar.gz -C /usr/local/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf mysql-server-mysql-5.7.24.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" mysql-server-mysql-5.7.24\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("groupadd")]),this._v(" mysql\n"),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("useradd")]),this._v(" -r -g mysql -s /bin/false mysql\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cmake "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -DCMAKE_INSTALL_PREFIX"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DMYSQL_DATADIR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DWITH_BOOST"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/boost_1_59_0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DSYSCONFDIR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DEFAULT_CHARSET"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DDEFAULT_COLLATION"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4_general_ci "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DENABLED_LOCAL_INFILE"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DEXTRA_CHARSETS"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("all\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ul",[a("li",[s._v("DCMAKE_INSTALL_PREFIX：安装路径")]),s._v(" "),a("li",[s._v("DMYSQL_DATADIR：数据存放目录")]),s._v(" "),a("li",[s._v("DWITH_BOOST：boost 源码路径")]),s._v(" "),a("li",[s._v("DSYSCONFDIR：my.cnf 配置文件目录")]),s._v(" "),a("li",[s._v("DEFAULT_CHARSET：数据库默认字符编码")]),s._v(" "),a("li",[s._v("DDEFAULT_COLLATION：默认排序规则")]),s._v(" "),a("li",[s._v("DENABLED_LOCAL_INFILE：允许从本文件导入数据")]),s._v(" "),a("li",[s._v("DEXTRA_CHARSETS：安装所有字符集")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("-j 参数表示根据 CPU 核数指定编译时的线程数，可以加快编译速度")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" -j "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" processor /proc/cpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"配置数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置数据库"}},[this._v("#")]),this._v(" 配置数据库")])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("注意：如果使用–initialize 参数初始化系统数据库之后，会在~/.mysql_secret 文件中生成 root 用户的一个临时密码，同时也在初始化日志中打印出来了,如下图:")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R mysql:mysql "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n./bin/mysqld --initialize-insecure --user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql --basedir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql --datadir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/data\n./bin/mysql_ssl_rsa_setup\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R root "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R mysql data\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("cat")]),this._v(" ~/.mysql_secret\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("cp")]),this._v(" support-files/my-default.cnf /etc/my.cnf\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("参数优化,编辑文件"),t("code",[this._v("/etc/my.conf")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("vim")]),this._v(" /etc/my.conf\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("socket")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/mysql.sock\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncharacter-set-server"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\ncollation-server"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8_general_ci\n\nskip-external-locking\nskip-name-resolve\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("basedir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("datadir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/data\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("tmpdir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/temp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server_id = .....")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("socket")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/mysql.sock\nlog-error"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/logs/mysql_error.log\npid-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/mysql.pid\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("open_files_limit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10240")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("back_log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_connections")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_connect_errors")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("wait_timeout")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("605800")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#open_tables=600")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#table_cache = 650")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#opened_tables = 630")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_allowed_packet")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("32M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sort_buffer_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("4M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("join_buffer_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("4M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("thread_cache_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("query_cache_type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("query_cache_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("query_cache_limit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("query_cache_min_res_unit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("16k\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("tmp_table_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_heap_table_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256M\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("key_buffer_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("read_buffer_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("read_rnd_buffer_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("16M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bulk_insert_buffer_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("64M\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("lower_case_table_names")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndefault-storage-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("INNODB\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("innodb_buffer_pool_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2G\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("innodb_log_buffer_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("32M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("innodb_log_file_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("128M\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("innodb_flush_method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("O_DIRECT\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####################")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("thread_concurrency")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("long_query_time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nslow-query-log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("on\nslow-query-log-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/logs/mysql-slow.log\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqldump"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nquick\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_allowed_packet")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("32M\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld_safe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nlog-error"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/log/mysqld.log\npid-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/run/mysqld/mysqld.pid\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("cp")]),this._v(" support-files/mysql.server /etc/init.d/mysqld\n"),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("chkconfig")]),this._v(" --add mysqld\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动mysql服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止mysql服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld stop\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新启动mysql服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld restart\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开机启动")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v("\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/usr/local/mysql/bin/mysql -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"grant all privileges on *.* to root@'127.0.0.1' identified by \"")]),s._v("1234qwer"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" with grant option;"')]),s._v("\n/usr/local/mysql/bin/mysql -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"grant all privileges on *.* to root@'localhost' identified by \"")]),s._v("1234qwer"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" with grant option;"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启远程登录(将host设为%即可),生产当中极不建议这么做")]),s._v("\n/usr/local/mysql/bin/mysql -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"grant all privileges on *.* to root@'%' identified by \"")]),s._v("1234qwer"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" with grant option;"')]),s._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("配置环境变量,编辑"),t("code",[this._v("/etc/profile")]),this._v(":")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("vim")]),this._v(" /etc/profile\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql env")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"ansible-构建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ansible-构建"}},[this._v("#")]),this._v(" Ansible 构建")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("脚本编写")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像"}},[this._v("#")]),this._v(" 镜像")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("构建镜像")]),this._v(" "),t("li",[this._v("使用")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[this._v("#")]),this._v(" 参考资料")])}],!1,null,null,null);t.default=n.exports}}]);